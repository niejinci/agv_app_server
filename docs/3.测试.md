[toc]
***

## 用 ros2 topic pub 为每种 command_type 发布一个消息

这里是为您准备的所有 `command_type` 对应的 `ros2 topic pub` 模拟命令。您可以直接复制到终端运行。

### 1. SET_OPERATING_MODE (设置操作模式)
```bash
ros2 topic pub --once /app_request_topic agv_app_msgs/msg/AppRequest "{
  request_id: 'req_mode_01',
  command_type: 'SET_OPERATING_MODE',
  set_operating_mode: {
    mode: 'AUTOMATIC'
  }
}"
```

### 2. RELOCATION (重定位)
```bash
ros2 topic pub --once /app_request_topic agv_app_msgs/msg/AppRequest "{
  request_id: 'req_loc_01',
  command_type: 'RELOCATION',
  relocation: {
    x: 5.5,
    y: -2.3,
    theta: 1.57,
    map_id: 'warehouse_floor_1'
  }
}"
```

### 3. TRANSLATION (平移运动)
```bash
ros2 topic pub --once /app_request_topic agv_app_msgs/msg/AppRequest "{
  request_id: 'req_trans_01',
  command_type: 'TRANSLATION',
  translation: {
    vx: 0.5,
    vy: 0.0,
    dist: 2.0,
    mode: 1
  }
}"
```
*(注：`mode: 1` 对应 `MODE_ODOM`，即里程计模式)*

### 4. ROTATION (原地旋转)
```bash
ros2 topic pub --once /app_request_topic agv_app_msgs/msg/AppRequest "{
  request_id: 'req_rot_01',
  command_type: 'ROTATION',
  rotation: {
    angle: 3.14159,
    vw: 0.3
  }
}"
```

### 5. PALLET_ROTATION (托盘旋转)
```bash
ros2 topic pub --once /app_request_topic agv_app_msgs/msg/AppRequest "{
  request_id: 'req_pallet_01',
  command_type: 'PALLET_ROTATION',
  pallet_rotation: {
    angle: 1.57,
    mode: 0
  }
}"
```
*(注：`mode: 0` 对应 `MODE_INCREMENTAL`，即增量模式)*

### 6. CANCEL_TASK (取消任务)
```bash
ros2 topic pub --once /app_request_topic agv_app_msgs/msg/AppRequest "{
  request_id: 'req_cancel_01',
  command_type: 'CANCEL_TASK',
  cancel_task: {
    stop_right: true
  }
}"
```

### 7. REMOTE_CONTROL (遥控)
```bash
ros2 topic pub --once /app_request_topic agv_app_msgs/msg/AppRequest "{
  request_id: 'req_rc_01',
  command_type: 'REMOTE_CONTROL',
  remote_control: {
    linear_x: 0.8,
    angular_z: -0.2
  }
}"
```

### 8. EMERGENCY_STOP (急停)
```bash
ros2 topic pub --once /app_request_topic agv_app_msgs/msg/AppRequest "{
  request_id: 'req_estop_01',
  command_type: 'EMERGENCY_STOP',
  emergency_stop: {
    status: true
  }
}"
```

### 9. MANAGE_DATA_SUBSCRIPTION (开启数据订阅)
```bash
ros2 topic pub --once /app_request_topic agv_app_msgs/msg/AppRequest "{
  request_id: 'req_sub_01',
  command_type: 'MANAGE_DATA_SUBSCRIPTION',
  manage_data_subscription: {
    topic: 'filte_scan',
    action: 'start'
  }
}"
```

### 10. MANAGE_DATA_SUBSCRIPTION (关闭数据订阅)
```bash
ros2 topic pub --once /app_request_topic agv_app_msgs/msg/AppRequest "{
  request_id: 'req_sub_02',
  command_type: 'MANAGE_DATA_SUBSCRIPTION',
  manage_data_subscription: {
    topic: 'filte_scan',
    action: 'stop'
  }
}"

### 11. LIFTING (托盘举升)
```bash
ros2 topic pub --once /app_request_topic agv_app_msgs/msg/AppRequest "{
  request_id: 'req_sub_02',
  command_type: 'LIFTING',
  lifting: {
    action: 'pick',
    height: 0.1
  }
}"
```

### 12. CLEAR_ERRORS(清除错误信息)
```bash
ros2 topic pub --once /app_request_topic agv_app_msgs/msg/AppRequest "{
  request_id: 'req_sub_02',
  command_type: 'CLEAR_ERRORS',
}"
```

### 13. SOFT_RESET(软复位)
```bash
ros2 topic pub --once /app_request_topic agv_app_msgs/msg/AppRequest "{
  request_id: 'req_sub_02',
  command_type: 'SOFT_RESET',
}"
```